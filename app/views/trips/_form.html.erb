<%= form_with model: @trip, url: trips_path, method: :post, local: true do |f| %>
  <!-- エラーメッセージ表示 -->
  <%= render 'shared/error_messages', model: f.object %>

  <div class="trip-form-group-inline">
    <!-- 旅行開始日 -->
    <div class="trip-form-group">
      <%= f.label :start_date, "旅行開始日" %>
      <%= f.date_field :start_date, class: "trip-form-control", required: true %>
    </div>

    <!-- 旅行終了日 -->
    <div class="trip-form-group">
      <%= f.label :end_date, "旅行終了日" %>
      <%= f.date_field :end_date, class: "trip-form-control", required: true %>
    </div>
  </div>

  <!-- 旅行予算 -->
  <div class="trip-form-group">
    <%= f.label :budget_total, "旅行の予算 (円)" %>
    <%= f.number_field :budget_total, class: "trip-form-control", min: 0, step: 10000, placeholder: "例: 100000", required: true %>
  </div>

  <!-- 訪問する県 -->
  <h4>訪問する県を選択</h4>
  <div class="prefecture-group">
    <div class="trip-form-group">
      <%= f.label :prefecture_ids, "訪問する県 1" %>
      <%= f.collection_select :prefecture_ids, Prefecture.all, :id, :name, { prompt: "都道府県を選択" }, { name: "trip[prefecture_ids][]", class: "trip-form-control" } %>
    </div>

    <div class="trip-form-group">
      <%= f.label :prefecture_ids, "訪問する県 2" %>
      <%= f.collection_select :prefecture_ids, Prefecture.all, :id, :name, { prompt: "都道府県を選択" }, { name: "trip[prefecture_ids][]", class: "trip-form-control" } %>
    </div>

    <div class="trip-form-group">
      <%= f.label :prefecture_ids, "訪問する県 3" %>
      <%= f.collection_select :prefecture_ids, Prefecture.all, :id, :name, { prompt: "都道府県を選択" }, { name: "trip[prefecture_ids][]", class: "trip-form-control" } %>
    </div>

    <div class="trip-form-group">
      <%= f.label :prefecture_ids, "訪問する県 4" %>
      <%= f.collection_select :prefecture_ids, Prefecture.all, :id, :name, { prompt: "都道府県を選択" }, { name: "trip[prefecture_ids][]", class: "trip-form-control" } %>
    </div>
  </div>

  <!-- メモ -->
  <div class="trip-form-group">
    <%= f.label :notes, "メモ (任意)" %>
    <%= f.text_area :notes, class: "form-control", rows: 5, placeholder: "旅行の計画や特記事項を記入してください。" %>
  </div>

  <!-- 送信ボタン -->
  <div class="trip-form-group">
    <%= f.submit "旅行を作成", class: "trip-form-btn btn-primary" %>
    <%= link_to "キャンセル", trips_path, class: "trip-form-btn btn-secondary" %>
  </div>
<% end %>
